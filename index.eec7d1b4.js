function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n,r=document.body,a=document.querySelector("table"),o=a.tHead,i=a.tBodies[0],s=!1,c=((n=document.createElement("form")).classList="new-employee-form",n.innerHTML='\n    <label>\n      Name: <input name="name" type="text" data-qa="name" >\n    </label>\n    <label>\n      Position: <input name="position" type="text" data-qa="position" >\n    </label>\n    <label>\n      Office:\n        <select name="office" data-qa="office">\n          <option value="Tokyo">Tokyo</option>\n          <option value="Singapore">Singapore</option>\n          <option value="London">London</option>\n          <option value="New York">New York</option>\n          <option value="Edinburgh">Edinburgh</option>\n          <option value="San Francisco">San Francisco</option>\n        </select>\n    </label>\n    <label>\n      Age: <input name="age" type="number" data-qa="age" >\n    </label>\n    <label>\n      Salary: <input name="salary" type="number" data-qa="salary" >\n    </label>\n    <button>\n      Save to table\n    </button>\n  ',n),l={SuccsessMessage:{title:"Success message",description:"Employee was created",type:"success"},MainErrorMessage:{title:"Error message",description:"All filleds must be completed",type:"error"},WrongNameMessage:{title:"Wrong name",description:"The user name must contain at least 4 characters",type:"error"},WrongAgeMessage:{title:"Wrong age",description:"Age must be between 18 and 90",type:"error"},WrongPositionMessage:{title:"Wrong position",description:"Please write correct position",type:"error"}};function d(e){return parseFloat(e.replace(/[$,]/g,""))}function u(e){var t=e.title,n=e.description,r=e.type,a=document.createElement("div");a.classList.add("notification",r),a.setAttribute("data-qa","notification"),a.innerHTML+='\n    <h2 class="title">'.concat(t,"</h2>\n    <p>").concat(n,"</p>\n  "),document.body.appendChild(a),setTimeout(function(){a.remove()},2e3)}r.append(c),o.addEventListener("click",function(e){if(void 0!==e.target.cellIndex){var n,r;n=e.target.cellIndex,r=t(i.rows).sort(function(e,t){var r=e.children[n].innerText,a=t.children[n].innerText,o=s?-1:1;return n>2?o*(d(r)-d(a)):s?a.localeCompare(r):r.localeCompare(a)}),i.innerHTML="",i.append.apply(i,t(r)),s=!s}}),i.addEventListener("click",function(e){var t=e.target.closest("tr");t&&(Array.from(i.rows).forEach(function(e){e.classList.remove("active")}),t.classList.add("active"))}),c.addEventListener("submit",function(e){var t,n,r,a,o,s;e.preventDefault(),n=(t=Object.fromEntries(new FormData(c).entries())).name,r=t.position,a=t.age,o=t.office,s=t.salary,n&&a&&r&&s?n.length<4?u(l.WrongNameMessage):isNaN(r)?a<18||a>90?u(l.WrongAgeMessage):(u(l.SuccsessMessage),i.insertAdjacentHTML("afterbegin","\n      <tr>\n        <td>".concat(n,"</td>\n        <td>").concat(r,"</td>\n        <td>").concat(o,"</td>\n        <td>").concat(a,"</td>\n        <td>$").concat(s,"</td>\n      </tr>\n    ")),c.reset()):u(l.WrongPositionMessage):u(l.MainErrorMessage)}),i.addEventListener("dblclick",function(e){var t,n,r,a,i,s;n=(t=e.target).parentElement.children[3],r=t.parentElement.children[4],a=t.innerText,(i=document.createElement("INPUT")).value=a,i.classList.add("cell-input"),i.setAttribute("name",o.rows[0].cells[t.cellIndex].innerText.toLocaleLowerCase()),t===n&&i.setAttribute("type","number"),t===r&&(i.value=d(a),i.setAttribute("type","number")),t.innerText="",t.append(i),i.focus(),s=function(){"salary"===i.name?t.innerText="$"+i.value.replace(/\B(?=(\d{3})+(?!\d))/g,","):t.innerText=i.value.trim()||a},i.addEventListener("blur",function(){s()}),i.addEventListener("keypress",function(e){"Enter"===e.key&&s()})});//# sourceMappingURL=index.eec7d1b4.js.map

//# sourceMappingURL=index.eec7d1b4.js.map
